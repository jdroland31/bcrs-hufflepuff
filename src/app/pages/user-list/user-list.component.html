<div fxLayout='column' class="userList">


    <mat-card-title class="userList-title">Users Configuration</mat-card-title>

    <button class="createButton" mat-button routerLink="/users/create/new">
      <mat-icon>addition</mat-icon>
      Add New User
    </button>


    <mat-card-content *ngIf="users">
      <table mat-table class="usersTable" [dataSource]='users'>

        <ng-container  matColumnDef='userName'>
          <th mat-header-cell *matHeaderCellDef>Username</th>
          <td class="text" mat-cell *matCellDef='let element'> {{ element.userName }}</td>
        </ng-container>

        <ng-container matColumnDef='firstName'>
          <th mat-header-cell *matHeaderCellDef>First Name</th>
          <td class="text" mat-cell *matCellDef='let element'> {{ element.firstName }}</td>
        </ng-container>

        <ng-container matColumnDef='lastName'>
          <th mat-header-cell *matHeaderCellDef>Last Name</th>
          <td class="text" mat-cell *matCellDef='let element'> {{ element.lastName }}</td>
        </ng-container>

        <ng-container matColumnDef='phoneNumber'>
          <th mat-header-cell *matHeaderCellDef>Phone Number</th>
          <td class="text" mat-cell *matCellDef='let element'> {{ element.phoneNumber || phoneFormat }}</td>
        </ng-container>

        <ng-container matColumnDef='address'>
          <th mat-header-cell *matHeaderCellDef>Address</th>
          <td class="text" mat-cell *matCellDef='let element'> {{ element.address }}</td>
        </ng-container>

        <ng-container matColumnDef='email'>
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef='let element'> {{ element.email }}</td>
        </ng-container>

        <ng-container matColumnDef='functions'>
          <th mat-header-cell *matHeaderCellDef>Functions</th>
          <td mat-cell *matCellDef='let element'>

            <button mat-icon-button routerLink='/users/{{ element._id }}'>
              <mat-icon color='accent'>edit</mat-icon>
            </button>

            <button mat-icon-button (click)='delete(element._id, element.username)'>
              <mat-icon color='accent'>cancel_presentation</mat-icon>
            </button>

          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef='let row; columns: displayedColumns;'></tr>


      </table>
    </mat-card-content>

</div>
